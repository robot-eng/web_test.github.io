<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentence Master: ‡πÄ‡∏Å‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .word-chip {
            transition: all 0.2s;
            cursor: pointer;
            user-select: none;
        }

        .word-chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .word-chip:active {
            transform: translateY(0);
        }

        .tab-btn.active {
            border-bottom: 3px solid #3b82f6;
            color: #1d4ed8;
            font-weight: 700;
        }

        .tab-btn {
            color: #6b7280;
            font-weight: 500;
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background-color: #111827;
            color: #f3f4f6;
        }
        body.dark-mode .bg-white {
            background-color: #1f2937;
            border-color: #374151;
        }
        body.dark-mode .text-gray-800 { color: #f3f4f6; }
        body.dark-mode .text-gray-600 { color: #d1d5db; }
        body.dark-mode .text-gray-500 { color: #9ca3af; }
        body.dark-mode .bg-gray-50 { background-color: #111827; }
        body.dark-mode .border-gray-300 { border-color: #4b5563; }
        body.dark-mode .bg-blue-50 { background-color: #1e3a8a; }
        body.dark-mode .bg-green-50 { background-color: #064e3b; }
        body.dark-mode .bg-yellow-50 { background-color: #713f12; }
        
        body.dark-mode .word-chip.bg-white {
            background-color: #374151;
            color: #e5e7eb;
            border-color: #4b5563;
        }

        /* Pastel Mode Styles */
        body.pastel-mode {
            background-color: #fdf2f8; /* Pink 50 */
            color: #831843; /* Pink 900 */
        }
        body.pastel-mode nav.bg-white {
            background-color: #fff1f2; /* Rose 50 */
            border-bottom: 1px solid #fecdd3;
        }
        body.pastel-mode .bg-white {
            background-color: #ffffff;
            border-color: #fbcfe8; /* Pink 200 */
        }
        body.pastel-mode .text-gray-800 { color: #831843; }
        body.pastel-mode .text-gray-600 { color: #be185d; }
        body.pastel-mode .text-gray-500 { color: #db2777; }
        
        body.pastel-mode .text-blue-900 { color: #701a75; /* Fuchsia 900 */ }
        body.pastel-mode .bg-blue-50 { background-color: #fdf4ff; /* Fuchsia 50 */ }
        body.pastel-mode .text-blue-600 { color: #c026d3; /* Fuchsia 600 */ }
        body.pastel-mode .bg-blue-600 { background-color: #d946ef; /* Fuchsia 500 */ }
        body.pastel-mode .bg-blue-600:hover { background-color: #c026d3; }
        
        body.pastel-mode .tab-btn.active {
            border-bottom-color: #d946ef;
            color: #a21caf;
        }
        
        body.pastel-mode .word-chip {
             background-color: #fae8ff; /* Fuchsia 100 */
             border-color: #e879f9;
             color: #86198f;
        }
        body.pastel-mode .word-chip.bg-blue-100 {
            background-color: #f5d0fe;
            color: #701a75;
            border-color: #e879f9;
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen text-gray-800">

    <!-- Navbar -->
    <nav class="bg-white shadow-md sticky top-0 z-50 transition-colors duration-300">
        <div class="max-w-4xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center gap-2">
                    <div class="flex items-center">
                        <button class="back-btn mr-2 hover:bg-gray-100 dark:hover:bg-gray-700 p-2 rounded-full transition" onclick="history.back()" title="Go Back">üîôüè†</button>
                    </div>
                    <span class="font-bold text-xl text-blue-900 dark:text-blue-400">Sentence Master</span>
                    
                    <!-- Theme Selector -->
                    <div class="user-actions ml-4 flex gap-1">
                        <div class="theme-selector flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1">
                            <button class="theme-opt p-1 hover:bg-white dark:hover:bg-gray-600 rounded shadow-sm transition" onclick="APP.setTheme('light')" id="theme-light" title="Light Mode">‚òÄÔ∏è</button>
                            <button class="theme-opt p-1 hover:bg-white dark:hover:bg-gray-600 rounded shadow-sm transition" onclick="APP.setTheme('dark')" id="theme-dark" title="Dark Mode">üåô</button>
                            <button class="theme-opt p-1 hover:bg-white dark:hover:bg-gray-600 rounded shadow-sm transition" onclick="APP.setTheme('pastel')" id="theme-pastel" title="Pastel Mode">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="12" cy="12" r="9" fill="url(#g2)" />
                                    <defs>
                                        <linearGradient id="g2" x1="0" x2="1">
                                            <stop offset="0" stop-color="#FFD6F0" />
                                            <stop offset="1" stop-color="#D6C6FF" />
                                        </linearGradient>
                                    </defs>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="hidden md:flex space-x-8">
                    <button onclick="switchTab('learn')" id="tab-learn" class="tab-btn py-4 px-1">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£</button>
                    <button onclick="switchTab('game')" id="tab-game" class="tab-btn py-4 px-1 active">‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î & ‡πÄ‡∏Å‡∏°</button>
                    <button onclick="switchTab('insights')" id="tab-insights" class="tab-btn py-4 px-1">‡πÄ‡∏Å‡∏£‡πá‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ</button>
                </div>
            </div>
            <!-- Mobile Menu -->
            <div class="flex md:hidden justify-around pb-2 text-sm">
                <button onclick="switchTab('learn')" class="px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</button>
                <button onclick="switchTab('game')" class="px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700 font-bold text-blue-600 dark:text-blue-400">‡πÄ‡∏Å‡∏°</button>
                <button onclick="switchTab('insights')" class="px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700">‡πÄ‡∏Å‡∏£‡πá‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto p-4 pb-20">

        <!-- Section: Game -->
        <div id="content-game" class="fade-in block">
            <div class="bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-100 transition-colors duration-300">
                <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">‡∏ù‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ</h2>
                        <p class="text-gray-500 text-sm">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
                    </div>
                    <div class="flex gap-2 w-full md:w-auto">
                        <select id="level-select" onchange="changeLevel()"
                            class="w-full md:w-auto bg-blue-50 dark:bg-gray-700 border border-blue-200 dark:border-gray-600 text-blue-800 dark:text-blue-300 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 cursor-pointer font-semibold">
                            <option value="beginner">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (Beginner)</option>
                            <option value="intermediate">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏•‡∏≤‡∏á (Intermediate)</option>
                            <option value="advanced">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á (Advanced)</option>
                        </select>
                    </div>
                </div>

                <!-- Progress Bar -->
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mb-6">
                    <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300"
                        style="width: 0%"></div>
                </div>

                <!-- Question Area -->
                <div class="mb-8 min-h-[120px]">
                    <div class="flex justify-between items-start mb-2">
                        <span
                            class="text-xs font-semibold text-blue-600 bg-blue-50 dark:bg-blue-900 dark:text-blue-200 px-2 py-1 rounded uppercase tracking-wider">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà
                            <span id="current-q-num">1</span></span>
                        <span id="hint-btn" onclick="toggleTranslation()"
                            class="text-xs text-gray-400 hover:text-blue-500 cursor-pointer transition-colors"><i
                                class="far fa-lightbulb mr-1"></i>‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢ (‡∏Ñ‡∏≥‡πÅ‡∏õ‡∏•)</span>
                    </div>

                    <!-- Drop Zone (User Answer) -->
                    <div id="answer-zone"
                        class="min-h-[80px] border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4 flex flex-wrap gap-2 items-center bg-gray-50 dark:bg-gray-800 transition-colors">
                        <!-- Placeholder injected by JS -->
                    </div>

                    <!-- Feedback Message -->
                    <div id="feedback-area" class="mt-2 hidden">
                        <!-- Content injected by JS -->
                    </div>
                </div>

                <!-- Word Pool -->
                <div id="word-pool"
                    class="flex flex-wrap gap-3 justify-center mb-8 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700">
                    <!-- Words injected by JS -->
                </div>

                <!-- Controls -->
                <div class="flex justify-between items-center border-t dark:border-gray-700 pt-6">
                    <button onclick="resetCurrentQuestion()"
                        class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition">
                        <i class="fas fa-undo mr-2"></i>‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
                    </button>
                    <div class="flex gap-3">
                        <button id="check-btn" onclick="checkAnswer()"
                            class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-2.5 rounded-lg shadow-lg shadow-blue-200 dark:shadow-none transition font-semibold transform hover:scale-105 active:scale-95">
                            ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
                        </button>
                        <button id="next-btn" onclick="nextQuestion()"
                            class="hidden bg-green-500 hover:bg-green-600 text-white px-6 py-2.5 rounded-lg shadow-lg transition font-semibold flex items-center">
                            ‡∏Ç‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div id="translation-card"
                class="hidden bg-yellow-50 dark:bg-yellow-900 border border-yellow-200 dark:border-yellow-700 rounded-xl p-4 text-center text-yellow-800 dark:text-yellow-200 text-sm animate-pulse">
                <!-- Translation injected by JS -->
            </div>
        </div>

        <!-- Section: Learn -->
        <div id="content-learn" class="fade-in hidden">
            <div class="bg-white rounded-2xl shadow-sm p-8 mb-6 border border-gray-100 transition-colors duration-300">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b dark:border-gray-700 pb-4"><i
                        class="fas fa-book-reader text-blue-500 mr-2"></i>‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ</h2>

                <p class="text-gray-600 mb-6 leading-relaxed">
                    ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÉ‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©
                    ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≥‡πÅ‡∏•‡∏∞‡∏ß‡∏•‡∏µ‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û
                    ‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏π‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
                </p>

                <div class="space-y-8">
                    <!-- Rule 1: The 5 Basic Structures (Expanded) -->
                    <div>
                        <h3 class="text-lg font-bold text-blue-900 dark:text-blue-300 mb-4 border-l-4 border-blue-500 pl-3">1. ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô 5 ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</h3>
                        <div class="space-y-4">
                            <!-- S + V -->
                            <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                                <div class="flex items-center mb-2">
                                    <span class="bg-blue-100 text-blue-800 text-xs font-bold px-2 py-1 rounded mr-2">Structure 1</span>
                                    <span class="font-bold text-gray-800 dark:text-gray-200">S + V</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô + ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ (‡∏≠‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏£‡∏£‡∏°)</p>
                                <div class="text-sm bg-white dark:bg-gray-900 p-2 rounded border-l-2 border-green-500">
                                    <span class="text-gray-500">Ex.</span> <span class="font-semibold text-gray-800 dark:text-gray-200">It is raining.</span> <span class="text-gray-400 text-xs">(‡∏ù‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏Å)</span>
                                </div>
                            </div>

                            <!-- S + V + O -->
                            <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                                <div class="flex items-center mb-2">
                                    <span class="bg-blue-100 text-blue-800 text-xs font-bold px-2 py-1 rounded mr-2">Structure 2</span>
                                    <span class="font-bold text-gray-800 dark:text-gray-200">S + V + O</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô + ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ + ‡∏Å‡∏£‡∏£‡∏° (‡∏™‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏£‡∏£‡∏°)</p>
                                <div class="text-sm bg-white dark:bg-gray-900 p-2 rounded border-l-2 border-green-500">
                                    <span class="text-gray-500">Ex.</span> <span class="font-semibold text-gray-800 dark:text-gray-200">I like cats.</span> <span class="text-gray-400 text-xs">(‡∏â‡∏±‡∏ô‡∏ä‡∏≠‡∏ö‡πÅ‡∏°‡∏ß)</span>
                                </div>
                            </div>

                            <!-- S + V + O + O -->
                            <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                                <div class="flex items-center mb-2">
                                    <span class="bg-blue-100 text-blue-800 text-xs font-bold px-2 py-1 rounded mr-2">Structure 3</span>
                                    <span class="font-bold text-gray-800 dark:text-gray-200">S + V + O‚ÇÅ + O‚ÇÇ</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô + ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ + ‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏≠‡∏á (‡∏Ñ‡∏ô) + ‡∏Å‡∏£‡∏£‡∏°‡∏ï‡∏£‡∏á (‡∏Ç‡∏≠‡∏á)</p>
                                <div class="text-sm bg-white dark:bg-gray-900 p-2 rounded border-l-2 border-green-500">
                                    <span class="text-gray-500">Ex.</span> <span class="font-semibold text-gray-800 dark:text-gray-200">She gave me a gift.</span> <span class="text-gray-400 text-xs">(‡πÄ‡∏ò‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡πÅ‡∏Å‡πà‡∏â‡∏±‡∏ô)</span>
                                </div>
                            </div>

                            <!-- S + V + C -->
                            <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                                <div class="flex items-center mb-2">
                                    <span class="bg-blue-100 text-blue-800 text-xs font-bold px-2 py-1 rounded mr-2">Structure 4</span>
                                    <span class="font-bold text-gray-800 dark:text-gray-200">S + V + C</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô + ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° (Linking Verb) + ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢</p>
                                <ul class="list-disc list-inside text-xs text-gray-500 mb-2 pl-2">
                                    <li><b>Adjective:</b> He looks tired. (‡πÄ‡∏Ç‡∏≤‡∏î‡∏π‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢)</li>
                                    <li><b>Noun:</b> She became a teacher. (‡πÄ‡∏ò‡∏≠‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏π)</li>
                                    <li><b>Amount/Time:</b> I walked for 2 miles. (‡∏â‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ 2 ‡πÑ‡∏°‡∏•‡πå)</li>
                                </ul>
                            </div>

                            <!-- S + V + O + C -->
                            <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                                <div class="flex items-center mb-2">
                                    <span class="bg-blue-100 text-blue-800 text-xs font-bold px-2 py-1 rounded mr-2">Structure 5</span>
                                    <span class="font-bold text-gray-800 dark:text-gray-200">S + V + O + C</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô + ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ + ‡∏Å‡∏£‡∏£‡∏° + ‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Å‡∏£‡∏£‡∏°</p>
                                <div class="text-sm bg-white dark:bg-gray-900 p-2 rounded border-l-2 border-green-500">
                                    <span class="text-gray-500">Ex.</span> <span class="font-semibold text-gray-800 dark:text-gray-200">She considers herself an artist.</span> <span class="text-gray-400 text-xs">(‡πÄ‡∏ò‡∏≠‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡∏¥‡∏ô)</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Rule 2: Advanced Patterns (New) -->
                    <div>
                        <h3 class="text-lg font-bold text-purple-900 dark:text-purple-300 mb-4 border-l-4 border-purple-500 pl-3">2. ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡πÅ‡∏•‡∏∞‡∏™‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                            <div class="p-3 bg-purple-50 dark:bg-purple-900/20 rounded border border-purple-100 dark:border-purple-800">
                                <b class="text-purple-800 dark:text-purple-300 block mb-1">Used to + V-infinitive</b>
                                <p class="text-xs text-gray-600 dark:text-gray-400">‡πÄ‡∏Ñ‡∏¢‡∏ó‡∏≥‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï (‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß)</p>
                                <p class="text-xs italic mt-1 text-gray-500">"I <b>used to dream</b> of studying abroad."</p>
                            </div>
                            <div class="p-3 bg-purple-50 dark:bg-purple-900/20 rounded border border-purple-100 dark:border-purple-800">
                                <b class="text-purple-800 dark:text-purple-300 block mb-1">Be used to + V-ing/noun</b>
                                <p class="text-xs text-gray-600 dark:text-gray-400">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∏‡πâ‡∏ô‡πÄ‡∏Ñ‡∏¢ / ‡∏ä‡∏¥‡∏ô</p>
                                <p class="text-xs italic mt-1 text-gray-500">"I'm <b>getting used to living</b> here."</p>
                            </div>
                            <div class="p-3 bg-purple-50 dark:bg-purple-900/20 rounded border border-purple-100 dark:border-purple-800">
                                <b class="text-purple-800 dark:text-purple-300 block mb-1">Too + adj + to do</b>
                                <p class="text-xs text-gray-600 dark:text-gray-400">‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ... ‡∏à‡∏ô‡∏ó‡∏≥‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ</p>
                                <p class="text-xs italic mt-1 text-gray-500">"It is <b>too complicated to remember</b>."</p>
                            </div>
                            <div class="p-3 bg-purple-50 dark:bg-purple-900/20 rounded border border-purple-100 dark:border-purple-800">
                                <b class="text-purple-800 dark:text-purple-300 block mb-1">Prevent + someone + from + V-ing</b>
                                <p class="text-xs text-gray-600 dark:text-gray-400">‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÉ‡∏Ñ‡∏£... ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£</p>
                                <p class="text-xs italic mt-1 text-gray-500">"Policies to <b>prevent people from polluting</b>."</p>
                            </div>
                            <div class="p-3 bg-purple-50 dark:bg-purple-900/20 rounded border border-purple-100 dark:border-purple-800">
                                <b class="text-purple-800 dark:text-purple-300 block mb-1">Because vs Because of</b>
                                <ul class="text-xs text-gray-600 dark:text-gray-400 list-disc list-inside">
                                    <li>Because + ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ (S+V)</li>
                                    <li>Because of + ‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°/V-ing</li>
                                </ul>
                            </div>
                            <div class="p-3 bg-purple-50 dark:bg-purple-900/20 rounded border border-purple-100 dark:border-purple-800">
                                <b class="text-purple-800 dark:text-purple-300 block mb-1">Prefer + V-ing + to + V-ing</b>
                                <p class="text-xs text-gray-600 dark:text-gray-400">‡∏ä‡∏≠‡∏ö... ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤...</p>
                                <p class="text-xs italic mt-1 text-gray-500">"She <b>prefers drinking</b> tea <b>to drinking</b> coffee."</p>
                            </div>
                             <div class="p-3 bg-purple-50 dark:bg-purple-900/20 rounded border border-purple-100 dark:border-purple-800">
                                <b class="text-purple-800 dark:text-purple-300 block mb-1">Amazed at / Good at + Noun/V-ing</b>
                                <p class="text-xs text-gray-600 dark:text-gray-400">‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏´‡∏•‡∏≤‡∏î‡πÉ‡∏à‡∏Å‡∏±‡∏ö / ‡πÄ‡∏Å‡πà‡∏á‡πÉ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</p>
                                <p class="text-xs italic mt-1 text-gray-500">"She is very <b>good at taking</b> care of family."</p>
                            </div>
                             <div class="p-3 bg-purple-50 dark:bg-purple-900/20 rounded border border-purple-100 dark:border-purple-800">
                                <b class="text-purple-800 dark:text-purple-300 block mb-1">Spend + time/money + on</b>
                                <p class="text-xs text-gray-600 dark:text-gray-400">‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤/‡πÄ‡∏á‡∏¥‡∏ô ‡πÑ‡∏õ‡∏Å‡∏±‡∏ö...</p>
                                <p class="text-xs italic mt-1 text-gray-500">"She <b>spent money on</b> manga."</p>
                            </div>
                        </div>
                    </div>

                    <!-- Rule 3: Modifiers (Renumbered) -->
                    <div>
                        <h3 class="text-lg font-bold text-blue-900 dark:text-blue-300 mb-3 border-l-4 border-blue-500 pl-3">3. ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢</h3>
                        <ul class="space-y-4">
                            <li class="bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg">
                                <div class="font-bold text-gray-800 dark:text-gray-200 mb-1">Adjective (‡∏Ñ‡∏≥‡∏Ñ‡∏∏‡∏ì‡∏®‡∏±‡∏û‡∏ó‡πå)</div>
                                <p class="text-sm text-gray-600 dark:text-gray-400">‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ <span class="text-red-500 font-bold">‡∏´‡∏ô‡πâ‡∏≤</span> ‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°‡πÄ‡∏™‡∏°‡∏≠</p>
                                <div class="text-sm text-gray-500 dark:text-gray-400 mt-2 bg-white dark:bg-gray-800 p-2 rounded inline-block">
                                    Ex. a <span class="text-red-500 font-bold">beautiful</span> girl
                                </div>
                            </li>
                            <li class="bg-green-50 dark:bg-green-900/30 p-4 rounded-lg">
                                <div class="font-bold text-gray-800 dark:text-gray-200 mb-1">Adverb (‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏ß‡∏¥‡πÄ‡∏®‡∏©‡∏ì‡πå)</div>
                                <p class="text-sm text-gray-600 dark:text-gray-400">‡∏°‡∏±‡∏Å‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ <span class="text-red-500 font-bold">‡∏´‡∏•‡∏±‡∏á</span> ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤</p>
                                <div class="text-sm text-gray-500 dark:text-gray-400 mt-2 bg-white dark:bg-gray-800 p-2 rounded inline-block">
                                    Ex. He drives <span class="text-red-500 font-bold">carefully</span>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <!-- Rule 4: Tenses -->
                    <div>
                        <h3 class="text-lg font-bold text-blue-900 dark:text-blue-300 mb-3 border-l-4 border-blue-500 pl-3">4. ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô Tenses (‡∏Å‡∏≤‡∏•‡πÄ‡∏ß‡∏•‡∏≤)</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3 text-sm">
                            <div class="border rounded p-3 bg-gray-50 dark:bg-gray-800 dark:border-gray-700">
                                <strong class="text-indigo-600 dark:text-indigo-400">Present Simple</strong>
                                <p class="text-xs text-gray-500 mt-1">S + V1 (s/es)</p>
                                <p class="mt-2 text-gray-700 dark:text-gray-300">‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏ô‡∏¥‡∏™‡∏±‡∏¢/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á</p>
                            </div>
                            <div class="border rounded p-3 bg-gray-50 dark:bg-gray-800 dark:border-gray-700">
                                <strong class="text-indigo-600 dark:text-indigo-400">Past Simple</strong>
                                <p class="text-xs text-gray-500 mt-1">S + V2</p>
                                <p class="mt-2 text-gray-700 dark:text-gray-300">‡∏à‡∏ö‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï</p>
                            </div>
                            <div class="border rounded p-3 bg-gray-50 dark:bg-gray-800 dark:border-gray-700">
                                <strong class="text-indigo-600 dark:text-indigo-400">Future Simple</strong>
                                <p class="text-xs text-gray-500 mt-1">S + will + V1</p>
                                <p class="mt-2 text-gray-700 dark:text-gray-300">‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï</p>
                            </div>
                        </div>
                    </div>

                    <!-- Rule 5: Conjunctions -->
                    <div>
                        <h3 class="text-lg font-bold text-blue-900 dark:text-blue-300 mb-3 border-l-4 border-blue-500 pl-3">5. ‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ (Conjunctions)</h3>
                        <ul class="list-disc list-inside text-sm text-gray-700 dark:text-gray-300 space-y-2 bg-gray-50 dark:bg-gray-800 p-4 rounded-lg">
                            <li><b>And (‡πÅ‡∏•‡∏∞):</b> ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡πâ‡∏≠‡∏¢‡∏ï‡∏≤‡∏°‡∏Å‡∏±‡∏ô</li>
                            <li><b>But (‡πÅ‡∏ï‡πà):</b> ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á</li>
                            <li><b>So (‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô):</b> ‡∏ö‡∏≠‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section: Insights -->
        <div id="content-insights" class="fade-in hidden">
            <!-- FAQs -->
            <div class="bg-white rounded-2xl shadow-sm p-6 border border-gray-100 mb-6 transition-colors duration-300">
                <h3 class="text-xl font-bold text-gray-800 mb-4 border-b dark:border-gray-700 pb-2"><i
                        class="fas fa-question-circle text-blue-500 mr-2"></i>‡πÄ‡∏Å‡∏£‡πá‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ & ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢</h3>
                
                <div class="space-y-8">
                    <!-- Advanced Adjectives -->
                    <div>
                        <h4 class="font-bold text-blue-900 dark:text-blue-300 text-sm md:text-base mb-2">1. ‡∏™‡∏π‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á Adjective (OSASCOMP)</h4>
                        <p class="text-gray-600 mb-2 text-xs md:text-sm">‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Ñ‡∏≥‡∏Ç‡∏¢‡∏≤‡∏¢‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏≥ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:</p>
                        <div class="text-xs md:text-sm bg-blue-50 dark:bg-blue-900/20 p-3 rounded font-mono text-blue-800 dark:text-blue-200 overflow-x-auto">
                            Opinion > Size > Age > Shape > Color > Origin > Material > Purpose
                        </div>
                        <p class="text-xs text-gray-500 mt-2 italic">Ex. A <b class="text-green-600">beautiful small old</b> table. (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà A small beautiful old table)</p>
                    </div>

                    <!-- Question Structure -->
                    <div>
                        <h4 class="font-bold text-blue-900 dark:text-blue-300 text-sm md:text-base mb-2">2. ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-gray-50 dark:bg-gray-800 p-3 rounded">
                                <strong class="text-sm block mb-1">Yes/No Questions</strong>
                                <p class="text-xs text-gray-600 dark:text-gray-400">Verb ‡∏ä‡πà‡∏ß‡∏¢ + S + V?</p>
                                <ul class="text-xs mt-2 space-y-1 list-disc list-inside">
                                    <li><b>Do</b> you like pizza?</li>
                                    <li><b>Is</b> she happy?</li>
                                </ul>
                            </div>
                            <div class="bg-gray-50 dark:bg-gray-800 p-3 rounded">
                                <strong class="text-sm block mb-1">Wh- Questions</strong>
                                <p class="text-xs text-gray-600 dark:text-gray-400">Wh- + Verb ‡∏ä‡πà‡∏ß‡∏¢ + S + V?</p>
                                <ul class="text-xs mt-2 space-y-1 list-disc list-inside">
                                    <li><b>Where</b> do you live?</li>
                                    <li><b>What</b> are you doing?</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Common Mistakes -->
                    <div>
                        <h4 class="font-bold text-red-600 dark:text-red-400 text-sm md:text-base mb-2">3. ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢ (Common Mistakes)</h4>
                        <table class="w-full text-xs md:text-sm text-left border-collapse">
                            <thead>
                                <tr class="border-b dark:border-gray-700 text-gray-500">
                                    <th class="py-2">‚ùå ‡∏ú‡∏¥‡∏î (‡πÅ‡∏õ‡∏•‡∏ï‡∏£‡∏á‡∏ï‡∏±‡∏ß)</th>
                                    <th class="py-2">‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (Native)</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100 dark:divide-gray-700">
                                <tr>
                                    <td class="py-2 text-red-500">I very like apples.</td>
                                    <td class="py-2 text-green-600 font-semibold">I like apples very much.</td>
                                </tr>
                                <tr>
                                    <td class="py-2 text-red-500">She go to school yesterday.</td>
                                    <td class="py-2 text-green-600 font-semibold">She <b>went</b> to school yesterday.</td>
                                </tr>
                                <tr>
                                    <td class="py-2 text-red-500">Where you go?</td>
                                    <td class="py-2 text-green-600 font-semibold">Where <b>do</b> you go?</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Sentence Types -->
                    <div>
                        <h4 class="font-bold text-blue-900 dark:text-blue-300 text-sm md:text-base mb-2">4. ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ</h4>
                        <div class="flex flex-wrap gap-2">
                            <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs"><b>‡∏ö‡∏≠‡∏Å‡πÄ‡∏•‡πà‡∏≤:</b> S + V + O</span>
                            <span class="px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs"><b>‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò:</b> S + don't/doesn't + V</span>
                            <span class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs"><b>‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:</b> Verb! (No Subject)</span>
                        </div>
                    </div>

                    <!-- External Resource -->
                    <div>
                        <h4 class="font-bold text-blue-900 dark:text-blue-300 text-sm md:text-base mb-2">5. ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏î‡πâ ‡πÉ‡∏ô English Encyclopedia üìò</h4>
                        <a href="infor.html" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 underline text-sm md:text-base">
                            English Encyclopedia | Oxford 3000 Master
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // --- APP Configuration ---
        const APP = {
            setTheme: (themeName) => {
                document.body.classList.remove('dark-mode', 'pastel-mode');
                if (themeName === 'dark') {
                    document.body.classList.add('dark-mode');
                } else if (themeName === 'pastel') {
                    document.body.classList.add('pastel-mode');
                }
            }
        };

        // --- Data (Fixed: All levels have 30 items) ---
        const exercises = {
            beginner: [
                // Set 1 (15 items)
                { answer: "She reads books every day.", translation: "‡πÄ‡∏ò‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô" },
                { answer: "They play football in the park.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡πÄ‡∏•‡πà‡∏ô‡∏ü‡∏∏‡∏ï‡∏ö‡∏≠‡∏•‡πÉ‡∏ô‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞" },
                { answer: "I eat breakfast at 7 o‚Äôclock.", translation: "‡∏â‡∏±‡∏ô‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏ä‡πâ‡∏≤‡∏ï‡∏≠‡∏ô 7 ‡πÇ‡∏°‡∏á" },
                { answer: "He walks to school every morning.", translation: "‡πÄ‡∏Ç‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏∏‡∏Å‡πÄ‡∏ä‡πâ‡∏≤" },
                { answer: "My sister studies English on weekends.", translation: "‡∏ô‡πâ‡∏≠‡∏á‡∏™‡∏≤‡∏ß‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏™‡∏∏‡∏î‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå" },
                { answer: "She doesn‚Äôt like coffee.", translation: "‡πÄ‡∏ò‡∏≠‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏Å‡∏≤‡πÅ‡∏ü" },
                { answer: "We don‚Äôt watch TV at night.", translation: "‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏î‡∏π‡∏ó‡∏µ‡∏ß‡∏µ‡∏ï‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô" },
                { answer: "I don‚Äôt do homework on Sundays.", translation: "‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå" },
                { answer: "He doesn‚Äôt go to the gym.", translation: "‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏õ‡πÇ‡∏£‡∏á‡∏¢‡∏¥‡∏°" },
                { answer: "They don‚Äôt eat vegetables.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡∏Å‡∏¥‡∏ô‡∏ú‡∏±‡∏Å" },
                { answer: "Do you like music?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö‡∏î‡∏ô‡∏ï‡∏£‡∏µ‡πÑ‡∏´‡∏°?" },
                { answer: "Where does she work?", translation: "‡πÄ‡∏ò‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?" },
                { answer: "What time do they eat dinner?", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏¢‡πá‡∏ô‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á?" },
                { answer: "Does your brother play tennis?", translation: "‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏ó‡∏ô‡∏ô‡∏¥‡∏™‡πÑ‡∏´‡∏°?" },
                { answer: "Where do you live?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?" },
                // Set 2 (15 items)
                { answer: "She is a teacher.", translation: "‡πÄ‡∏ò‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏π" },
                { answer: "We are students.", translation: "‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" },
                { answer: "I am from Thailand.", translation: "‡∏â‡∏±‡∏ô‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢" },
                { answer: "Are you happy?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡πÑ‡∏´‡∏°?" },
                { answer: "The cat is on the table.", translation: "‡πÅ‡∏°‡∏ß‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡πÇ‡∏ï‡πä‡∏∞" },
                { answer: "I eat an apple every day.", translation: "‡∏â‡∏±‡∏ô‡∏Å‡∏¥‡∏ô‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏•‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô" },
                { answer: "The book is on the desk.", translation: "‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏•‡πà‡∏°‡∏ô‡∏±‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡πÇ‡∏ï‡πä‡∏∞" },
                { answer: "She has a red car.", translation: "‡πÄ‡∏ò‡∏≠‡∏°‡∏µ‡∏£‡∏ñ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏Ñ‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á" },
                { answer: "The flowers in the garden are beautiful.", translation: "‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡πÉ‡∏ô‡∏™‡∏ß‡∏ô‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°" },
                { answer: "An elephant is a big animal.", translation: "‡∏ä‡πâ‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏ç‡πà" },
                { answer: "She is a doctor and works in the hospital.", translation: "‡πÄ‡∏ò‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏°‡∏≠‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•" },
                { answer: "We are friends and study together.", translation: "‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô" },
                { answer: "I am tired but do my homework.", translation: "‡∏â‡∏±‡∏ô‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô" },
                { answer: "The weather is nice so we go to the beach.", translation: "‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡∏ä‡∏≤‡∏¢‡∏´‡∏≤‡∏î" },
                { answer: "They are busy but help their mother.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡∏¢‡∏∏‡πà‡∏á‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏°‡πà" }
            ],
            intermediate: [
                // Set 1 (20 items)
                { answer: "She visited her grandmother last summer.", translation: "‡πÄ‡∏ò‡∏≠‡πÑ‡∏õ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏Ñ‡∏∏‡∏ì‡∏¢‡πà‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏§‡∏î‡∏π‡∏£‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß" },
                { answer: "They didn‚Äôt do their homework yesterday.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô‡∏ô‡∏µ‡πâ" },
                { answer: "Where did you go last weekend?", translation: "‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡πÑ‡∏´‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏î‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß?" },
                { answer: "We watched a good movie last night.", translation: "‡πÄ‡∏£‡∏≤‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡∏î‡∏µ‡πÜ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ" },
                { answer: "He didn‚Äôt eat breakfast this morning.", translation: "‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏ä‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πâ‡∏≤‡∏ô‡∏µ‡πâ" },
                { answer: "She was reading when I called her.", translation: "‡πÄ‡∏ò‡∏≠‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡πÇ‡∏ó‡∏£‡∏´‡∏≤‡πÄ‡∏ò‡∏≠" },
                { answer: "The children were playing football at 3 PM yesterday.", translation: "‡πÄ‡∏î‡πá‡∏Å‡πÜ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ü‡∏∏‡∏ï‡∏ö‡∏≠‡∏•‡∏ï‡∏≠‡∏ô 3 ‡πÇ‡∏°‡∏á‡πÄ‡∏¢‡πá‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô" },
                { answer: "He wasn‚Äôt listening to music while studying.", translation: "‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á‡∏Ç‡∏ì‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" },
                { answer: "What were you doing at 8 o‚Äôclock last night?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡∏≠‡∏ô 8 ‡πÇ‡∏°‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∑‡∏ô?" },
                { answer: "It was raining when we left home.", translation: "‡∏ù‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏Å‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ö‡πâ‡∏≤‡∏ô" },
                { answer: "I will graduate from university next year.", translation: "‡∏â‡∏±‡∏ô‡∏à‡∏∞‡∏à‡∏ö‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏õ‡∏µ‡∏´‡∏ô‡πâ‡∏≤" },
                { answer: "They are going to travel to Japan next month.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡∏à‡∏∞‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤" },
                { answer: "She won‚Äôt come to the party tomorrow.", translation: "‡πÄ‡∏ò‡∏≠‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏á‡∏≤‡∏ô‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ" },
                { answer: "Are you going to buy a new car?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ã‡∏∑‡πâ‡∏≠‡∏£‡∏ñ‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏´‡∏°?" },
                { answer: "It will probably rain this afternoon.", translation: "‡∏ö‡πà‡∏≤‡∏¢‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏ù‡∏ô‡∏ï‡∏Å" },
                { answer: "He has lived in Bangkok for five years.", translation: "‡πÄ‡∏Ç‡∏≤‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡πÉ‡∏ô‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏≤‡∏´‡πâ‡∏≤‡∏õ‡∏µ‡πÅ‡∏•‡πâ‡∏ß" },
                { answer: "We haven‚Äôt seen that movie yet.", translation: "‡πÄ‡∏£‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏±‡πâ‡∏ô" },
                { answer: "She had already finished her work before I arrived.", translation: "‡πÄ‡∏ò‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏à‡∏∞‡∏°‡∏≤‡∏ñ‡∏∂‡∏á" },
                { answer: "They will have completed the project by next Friday.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡∏à‡∏∞‡∏ó‡∏≥‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏´‡∏ô‡πâ‡∏≤" },
                { answer: "Have you ever been to Europe?", translation: "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ñ‡∏¢‡πÑ‡∏õ‡∏¢‡∏∏‡πÇ‡∏£‡∏õ‡πÑ‡∏´‡∏°?" },
                // Set 2 (10 items selected)
                { answer: "I will call you when I get home.", translation: "‡∏â‡∏±‡∏ô‡∏à‡∏∞‡πÇ‡∏ó‡∏£‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏ö‡πâ‡∏≤‡∏ô" },
                { answer: "She was studying while her brother was watching TV.", translation: "‡πÄ‡∏ò‡∏≠‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏î‡∏π‡∏ó‡∏µ‡∏ß‡∏µ" },
                { answer: "After he finished his homework, he went to bed.", translation: "‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à ‡πÄ‡∏Ç‡∏≤‡∏Å‡πá‡πÄ‡∏Ç‡πâ‡∏≤‡∏ô‡∏≠‡∏ô" },
                { answer: "Before she leaves the office, she always checks her email.", translation: "‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏≠‡∏≠‡∏ü‡∏ü‡∏¥‡∏® ‡πÄ‡∏ò‡∏≠‡∏à‡∏∞‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÄ‡∏™‡∏°‡∏≠" },
                { answer: "We have been happy since we moved to this city.", translation: "‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏¢‡πâ‡∏≤‡∏¢‡∏°‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ô‡∏µ‡πâ" },
                { answer: "We will go to the beach if the weather is sunny.", translation: "‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏õ‡∏ä‡∏≤‡∏¢‡∏´‡∏≤‡∏î‡∏ñ‡πâ‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏à‡πà‡∏°‡πÉ‡∏™" },
                { answer: "I would buy that house if I had enough money.", translation: "‡∏â‡∏±‡∏ô‡∏à‡∏∞‡∏ã‡∏∑‡πâ‡∏≠‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏ñ‡πâ‡∏≤‡∏â‡∏±‡∏ô‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏û‡∏≠" },
                { answer: "If she had studied harder, she would have passed the exam.", translation: "‡∏ñ‡πâ‡∏≤‡πÄ‡∏ò‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ ‡πÄ‡∏ò‡∏≠‡∏à‡∏∞‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô" },
                { answer: "You will miss the train unless you hurry.", translation: "‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏û‡∏•‡∏≤‡∏î‡∏£‡∏ñ‡πÑ‡∏ü‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏µ‡∏ö" },
                { answer: "You can go provided that you finish your work first.", translation: "‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô" }
            ],
            advanced: [
                { answer: "The bridge was built in 1990 by a famous architect.", translation: "‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏õ‡∏µ 1990 ‡πÇ‡∏î‡∏¢‡∏™‡∏ñ‡∏≤‡∏õ‡∏ô‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á" },
                { answer: "The computer is being repaired right now.", translation: "‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ñ‡∏π‡∏Å‡∏ã‡πà‡∏≠‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ" },
                { answer: "We have been invited to the wedding.", translation: "‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡∏¥‡∏ç‡πÑ‡∏õ‡∏á‡∏≤‡∏ô‡πÅ‡∏ï‡πà‡∏á‡∏á‡∏≤‡∏ô" },
                { answer: "The report will be finished by tomorrow morning.", translation: "‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡πÄ‡∏™‡∏£‡πá‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏ä‡πâ‡∏≤‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ" },
                { answer: "The house had been cleaned before the guests arrived.", translation: "‡∏ö‡πâ‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Ç‡∏Å‡∏à‡∏∞‡∏°‡∏≤‡∏ñ‡∏∂‡∏á" },
                { answer: "She said that she was tired.", translation: "‡πÄ‡∏ò‡∏≠‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ò‡∏≠‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢" },
                { answer: "He asked me if I had finished my homework.", translation: "‡πÄ‡∏Ç‡∏≤‡∏ñ‡∏≤‡∏°‡∏â‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á" },
                { answer: "The teacher told us to submit our essays by Friday.", translation: "‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ö‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏™‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå" },
                { answer: "I wondered where she had gone.", translation: "‡∏â‡∏±‡∏ô‡∏™‡∏á‡∏™‡∏±‡∏¢‡∏ß‡πà‡∏≤‡πÄ‡∏ò‡∏≠‡πÑ‡∏õ‡πÑ‡∏´‡∏ô" },
                { answer: "He promised that he would help me with the project.", translation: "‡πÄ‡∏Ç‡∏≤‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏â‡∏±‡∏ô‡∏ó‡∏≥‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ" },
                { answer: "Although it was raining, we decided to go hiking.", translation: "‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ù‡∏ô‡∏ï‡∏Å ‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÑ‡∏õ‡πÄ‡∏î‡∏¥‡∏ô‡∏õ‡πà‡∏≤" },
                { answer: "The book which I am reading was written by a Nobel Prize winner.", translation: "‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏î‡∏¢‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÇ‡∏ô‡πÄ‡∏ö‡∏•" },
                { answer: "Not only did she finish her work early, but she also helped her colleagues.", translation: "‡πÄ‡∏ò‡∏≠‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡πá‡∏ß ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢" },
                { answer: "If I had known about the meeting, I would have attended it.", translation: "‡∏ñ‡πâ‡∏≤‡∏â‡∏±‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° ‡∏â‡∏±‡∏ô‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°" },
                { answer: "Despite being young, he has achieved great success in his career.", translation: "‡πÅ‡∏°‡πâ‡∏à‡∏∞‡∏¢‡∏±‡∏á‡πÄ‡∏î‡πá‡∏Å ‡πÄ‡∏Ç‡∏≤‡∏Å‡πá‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏°‡∏≤‡∏Å‡πÉ‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û" },
                { answer: "Had I known the truth, I would have told you earlier.", translation: "‡∏´‡∏≤‡∏Å‡∏â‡∏±‡∏ô‡∏£‡∏π‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á ‡∏â‡∏±‡∏ô‡∏Ñ‡∏á‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏ô‡∏¥‡πà‡∏ô‡πÜ" },
                { answer: "Rarely have I seen such a beautiful performance.", translation: "‡∏ô‡∏≤‡∏ô‡πÜ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏â‡∏±‡∏ô‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÄ‡∏ä‡πà‡∏ô‡∏ô‡∏µ‡πâ" },
                { answer: "The harder you work, the luckier you get.", translation: "‡∏¢‡∏¥‡πà‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà ‡∏Ñ‡∏∏‡∏ì‡∏Å‡πá‡∏¢‡∏¥‡πà‡∏á‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô" },
                { answer: "It is essential that he be present at the meeting.", translation: "‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏¢‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏≤‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°" },
                { answer: "No sooner had I arrived than the phone rang.", translation: "‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏°‡∏≤‡∏ñ‡∏∂‡∏á ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏Å‡πá‡∏î‡∏±‡∏á‡∏Ç‡∏∂‡πâ‡∏ô" },
                { answer: "Unless you study harder, you will not pass the test.", translation: "‡πÄ‡∏ß‡πâ‡∏ô‡πÅ‡∏ï‡πà‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏™‡∏≠‡∏ö‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô" },
                { answer: "By the time we get there, the movie will have started.", translation: "‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏ô ‡∏´‡∏ô‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏â‡∏≤‡∏¢‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß" },
                { answer: "Whatever happens, I will always stand by your side.", translation: "‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏∂‡πâ‡∏ô ‡∏â‡∏±‡∏ô‡∏à‡∏∞‡∏¢‡∏∑‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏™‡∏°‡∏≠" },
                { answer: "Not until yesterday did I realize how much I missed him.", translation: "‡∏à‡∏ô‡∏Å‡∏£‡∏∞‡∏ó‡∏±‡πà‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏ï‡∏£‡∏∞‡∏´‡∏ô‡∏±‡∏Å‡∏ß‡πà‡∏≤‡∏â‡∏±‡∏ô‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÄ‡∏Ç‡∏≤‡∏°‡∏≤‡∏Å‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô" },
                { answer: "Should you need any assistance, please do not hesitate to ask.", translation: "‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ‡πÇ‡∏õ‡∏£‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ñ‡∏≤‡∏°" },
                { answer: "The woman to whom you were speaking is my boss.", translation: "‡∏ú‡∏π‡πâ‡∏´‡∏ç‡∏¥‡∏á‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏∏‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô" },
                { answer: "Having finished his work, he went home immediately.", translation: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏Ç‡∏≤‡∏Å‡πá‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ" },
                { answer: "Neither the students nor the teacher was aware of the rules.", translation: "‡∏ó‡∏±‡πâ‡∏á‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏£‡∏π‡∏ï‡πà‡∏≤‡∏á‡∏Å‡πá‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏Å‡∏é‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö" },
                { answer: "It was not until I met you that I knew true love.", translation: "‡∏à‡∏ô‡∏Å‡∏£‡∏∞‡∏ó‡∏±‡πà‡∏á‡∏â‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏û‡∏ö‡∏Ñ‡∏∏‡∏ì ‡∏â‡∏±‡∏ô‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏£‡∏±‡∏Å‡πÅ‡∏ó‡πâ" },
                { answer: "Under no circumstances should you open this door.", translation: "‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡πÉ‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡πÉ‡∏î‡πÜ" }
            ]
        };

        // --- Game State ---
        let currentLevel = 'beginner';
        let currentIndex = 0;
        let selectedWords = []; 
        let poolWords = [];

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            loadQuestion();
        });

        // --- Tab Logic ---
        function switchTab(tabId) {
            ['learn', 'game', 'insights'].forEach(t => {
                const el = document.getElementById(`content-${t}`);
                if(el) {
                    el.classList.add('hidden');
                    el.classList.remove('block');
                }
                const btn = document.getElementById(`tab-${t}`);
                if(btn) btn.classList.remove('active');
            });
            
            const target = document.getElementById(`content-${tabId}`);
            if(target) {
                target.classList.remove('hidden');
                target.classList.add('block');
            }
            const targetBtn = document.getElementById(`tab-${tabId}`);
            if(targetBtn) targetBtn.classList.add('active');
        }

        // --- Game Logic ---
        function changeLevel() {
            const select = document.getElementById('level-select');
            if(select) {
                currentLevel = select.value;
                currentIndex = 0;
                loadQuestion();
            }
        }

        function loadQuestion() {
            if(!exercises[currentLevel]) return;
            const data = exercises[currentLevel][currentIndex];
            if(!data) return;
            
            // Update UI Counters
            const qNum = document.getElementById('current-q-num');
            if(qNum) qNum.innerText = `${currentIndex + 1} / ${exercises[currentLevel].length}`;
            
            const progress = document.getElementById('progress-bar');
            if(progress) {
                const progressPercent = ((currentIndex) / exercises[currentLevel].length) * 100;
                progress.style.width = `${progressPercent}%`;
            }

            // Reset States
            selectedWords = [];
            const feedback = document.getElementById('feedback-area');
            if(feedback) feedback.classList.add('hidden');
            
            const checkBtn = document.getElementById('check-btn');
            if(checkBtn) checkBtn.classList.remove('hidden');
            
            const nextBtn = document.getElementById('next-btn');
            if(nextBtn) nextBtn.classList.add('hidden');
            
            const transCard = document.getElementById('translation-card');
            if(transCard) {
                transCard.classList.add('hidden');
                transCard.innerText = data.translation;
            }
            
            const answerZone = document.getElementById('answer-zone');
            if(answerZone) {
                answerZone.classList.remove('bg-green-50', 'border-green-300', 'bg-red-50', 'border-red-300', 'dark:bg-green-900', 'dark:bg-red-900');
                answerZone.classList.add('bg-gray-50', 'dark:bg-gray-800', 'border-gray-300', 'dark:border-gray-600');
            }

            // Create Word Tokens from answer
            const rawWords = data.answer.split(' ');
            poolWords = rawWords.map((word, index) => ({
                text: word,
                id: `word-${index}`
            }));

            // Shuffle Pool
            shuffleArray(poolWords);

            renderBoard();
        }

        function renderBoard() {
            const answerZone = document.getElementById('answer-zone');
            const wordPool = document.getElementById('word-pool');

            if(!answerZone || !wordPool) return;

            // Clear containers
            answerZone.innerHTML = '';
            wordPool.innerHTML = '';

            // Render Answer Zone
            if (selectedWords.length === 0) {
                 const placeholder = document.createElement('span');
                 placeholder.id = 'placeholder-text';
                 placeholder.className = 'text-gray-400 text-sm w-full text-center pointer-events-none italic';
                 placeholder.innerText = '‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...';
                 answerZone.appendChild(placeholder);
            } else {
                selectedWords.forEach((item, idx) => {
                    const chip = createChip(item.text, () => moveWordBack(idx));
                    chip.classList.add('bg-blue-100', 'text-blue-800', 'border-blue-200');
                    answerZone.appendChild(chip);
                });
            }

            // Render Pool
            poolWords.forEach((item, idx) => {
                const chip = createChip(item.text, () => moveWordToAnswer(idx));
                chip.classList.add('bg-white', 'border-gray-200', 'text-gray-700', 'shadow-sm', 'dark:bg-gray-700', 'dark:text-gray-200', 'dark:border-gray-600');
                wordPool.appendChild(chip);
            });
        }

        function createChip(text, onClick) {
            const btn = document.createElement('div');
            btn.className = 'word-chip px-4 py-2 rounded-full border font-medium text-sm md:text-base select-none';
            btn.innerText = text;
            btn.onclick = onClick;
            return btn;
        }

        function moveWordToAnswer(poolIndex) {
            const item = poolWords[poolIndex];
            poolWords.splice(poolIndex, 1);
            selectedWords.push(item);
            renderBoard();
        }

        function moveWordBack(selectedIndex) {
            const item = selectedWords[selectedIndex];
            selectedWords.splice(selectedIndex, 1);
            poolWords.push(item);
            renderBoard();
        }

        function resetCurrentQuestion() {
            loadQuestion();
        }

        function checkAnswer() {
            if(!exercises[currentLevel]) return;
            const currentQuestion = exercises[currentLevel][currentIndex];
            const userAnswerString = selectedWords.map(w => w.text).join(' ');
            
            const feedbackArea = document.getElementById('feedback-area');
            const answerZone = document.getElementById('answer-zone');
            
            feedbackArea.classList.remove('hidden');

            if (userAnswerString === currentQuestion.answer) {
                // Correct
                feedbackArea.innerHTML = `<div class="flex items-center text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900 p-3 rounded-lg"><i class="fas fa-check-circle text-xl mr-3"></i><div><strong>‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! Great job!</strong></div></div>`;
                answerZone.classList.remove('bg-gray-50', 'dark:bg-gray-800', 'border-gray-300', 'dark:border-gray-600', 'bg-red-50', 'border-red-300');
                answerZone.classList.add('bg-green-50', 'dark:bg-green-900', 'border-green-300', 'dark:border-green-700');
                
                const checkBtn = document.getElementById('check-btn');
                if(checkBtn) checkBtn.classList.add('hidden');
                
                // Check if last question
                const nextBtn = document.getElementById('next-btn');
                if (currentIndex < exercises[currentLevel].length - 1) {
                    if(nextBtn) nextBtn.classList.remove('hidden');
                } else {
                    feedbackArea.innerHTML += `<div class="mt-2 text-center text-blue-600 dark:text-blue-400 font-bold">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡∏ú‡πà‡∏≤‡∏ô‡∏î‡πà‡∏≤‡∏ô ${currentLevel} ‡πÅ‡∏•‡πâ‡∏ß</div>`;
                }

                const transCard = document.getElementById('translation-card');
                if(transCard) transCard.classList.remove('hidden');

            } else {
                // Incorrect
                feedbackArea.innerHTML = `<div class="flex items-center text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900 p-3 rounded-lg"><i class="fas fa-times-circle text-xl mr-3"></i><div><strong>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞</strong></div></div>`;
                answerZone.classList.remove('bg-gray-50', 'dark:bg-gray-800', 'border-gray-300', 'dark:border-gray-600');
                answerZone.classList.add('bg-red-50', 'dark:bg-red-900', 'border-red-300', 'dark:border-red-700');
                
                setTimeout(() => {
                    answerZone.classList.remove('bg-red-50', 'dark:bg-red-900', 'border-red-300', 'dark:border-red-700');
                    answerZone.classList.add('bg-gray-50', 'dark:bg-gray-800', 'border-gray-300', 'dark:border-gray-600');
                }, 1000);
            }
        }

        function nextQuestion() {
            if (currentIndex < exercises[currentLevel].length - 1) {
                currentIndex++;
                loadQuestion();
            }
        }

        function toggleTranslation() {
            const card = document.getElementById('translation-card');
            if(card) {
                if (card.classList.contains('hidden')) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            }
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
    </script>
</body>
</html>