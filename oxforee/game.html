<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentence Master: ‡πÄ‡∏Å‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="uiux.css">
    <script src="script.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .word-chip {
            transition: all 0.2s;
            cursor: pointer;
            user-select: none;
        }

        .word-chip:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .word-chip:active {
            transform: translateY(0);
        }

        .tab-btn.active {
            border-bottom: 3px solid #3b82f6;
            color: #1d4ed8;
            font-weight: 700;
        }

        .tab-btn {
            color: #6b7280;
            font-weight: 500;
        }

        /* Custom scrollbar for word pool if needed */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen text-gray-800">
    <!-- Navbar -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center gap-2">
                    <!-- <div class="bg-blue-600 text-white p-2 rounded-lg">
                        <i class="fas fa-shapes"></i> -->
                    <div class="flex items-center">
                        <button class="back-btn" onclick="history.back()" title="Go Back">üîôüè†</button>
                        <a href="index.html" class="logo-link"></a>
                    </div>
                    <!-- </div> -->
                    <span class="font-bold text-xl text-blue-900">Sentence Master</span>
                    <div class="user-actions" style="left: auto;">
                        <div class="theme-selector">
                            <button class="theme-opt" onclick="APP.setTheme('light')" id="theme-light"
                                title="Light Mode">‚òÄÔ∏è</button>
                            <button class="theme-opt" onclick="APP.setTheme('dark')" id="theme-dark"
                                title="Dark Mode">üåô</button>
                            <button class="theme-opt" onclick="APP.setTheme('pastel')" id="theme-pastel"
                                title="Pastel Mode" aria-label="Pastel">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" aria-hidden>
                                    <circle cx="12" cy="12" r="9" fill="url(#g2)" />
                                    <defs>
                                        <linearGradient id="g2" x1="0" x2="1">
                                            <stop offset="0" stop-color="#FFD6F0" />
                                            <stop offset="1" stop-color="#D6C6FF" />
                                        </linearGradient>
                                    </defs>
                                </svg>
                            </button>
                        </div>
                        <!-- <div class="streak-pill">üî• <span id="streakCount">12</span></div>
                <button class="sound-btn"
                    onclick="if(confirm('Reset all progress?')){localStorage.clear(); location.reload();}">‚Ü∫</button> -->
                    </div>
                </div>
                <div class="hidden md:flex space-x-8">
                    <button onclick="switchTab('learn')" id="tab-learn"
                        class="tab-btn py-4 px-1">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£</button>
                    <button onclick="switchTab('game')" id="tab-game" class="tab-btn py-4 px-1 active">‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î &
                        ‡πÄ‡∏Å‡∏°</button>
                    <button onclick="switchTab('insights')" id="tab-insights"
                        class="tab-btn py-4 px-1">‡πÄ‡∏Å‡∏£‡πá‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ</button>
                </div>
            </div>
            <!-- Mobile Menu -->
            <div class="flex md:hidden justify-around pb-2 text-sm">
                <button onclick="switchTab('learn')" class="px-2 py-1 rounded hover:bg-gray-100">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</button>
                <button onclick="switchTab('game')"
                    class="px-2 py-1 rounded hover:bg-gray-100 font-bold text-blue-600">‡πÄ‡∏Å‡∏°</button>
                <button onclick="switchTab('insights')"
                    class="px-2 py-1 rounded hover:bg-gray-100">‡πÄ‡∏Å‡∏£‡πá‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto p-4 pb-20">

        <!-- Section: Game -->
        <div id="content-game" class="fade-in block">
            <div class="bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-100">
                <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">‡∏ù‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ</h2>
                        <p class="text-gray-500 text-sm">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
                    </div>
                    <div class="flex gap-2 w-full md:w-auto">
                        <select id="level-select" onchange="changeLevel()"
                            class="w-full md:w-auto bg-blue-50 border border-blue-200 text-blue-800 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 cursor-pointer font-semibold">
                            <option value="beginner">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (Beginner)</option>
                            <option value="intermediate">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏•‡∏≤‡∏á (Intermediate)</option>
                            <option value="advanced">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á (Advanced)</option>
                        </select>
                    </div>
                </div>

                <!-- Progress Bar -->
                <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
                    <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full transition-all duration-300"
                        style="width: 0%"></div>
                </div>

                <!-- Question Area -->
                <div class="mb-8 min-h-[120px]">
                    <div class="flex justify-between items-start mb-2">
                        <span
                            class="text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded uppercase tracking-wider">‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà
                            <span id="current-q-num">1</span></span>
                        <span id="hint-btn" onclick="toggleTranslation()"
                            class="text-xs text-gray-400 hover:text-blue-500 cursor-pointer transition-colors"><i
                                class="far fa-lightbulb mr-1"></i>‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢ (‡∏Ñ‡∏≥‡πÅ‡∏õ‡∏•)</span>
                    </div>

                    <!-- Drop Zone (User Answer) -->
                    <div id="answer-zone"
                        class="min-h-[80px] border-2 border-dashed border-gray-300 rounded-xl p-4 flex flex-wrap gap-2 items-center bg-gray-50 transition-colors">
                        <!-- Placeholder injected by JS -->
                    </div>

                    <!-- Feedback Message -->
                    <div id="feedback-area" class="mt-2 hidden">
                        <!-- Content injected by JS -->
                    </div>
                </div>

                <!-- Word Pool -->
                <div id="word-pool"
                    class="flex flex-wrap gap-3 justify-center mb-8 p-4 bg-gray-50 rounded-xl border border-gray-100">
                    <!-- Words injected by JS -->
                </div>

                <!-- Controls -->
                <div class="flex justify-between items-center border-t pt-6">
                    <button onclick="resetCurrentQuestion()"
                        class="text-gray-500 hover:text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-100 transition">
                        <i class="fas fa-undo mr-2"></i>‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
                    </button>
                    <div class="flex gap-3">
                        <button id="check-btn" onclick="checkAnswer()"
                            class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-2.5 rounded-lg shadow-lg shadow-blue-200 transition font-semibold transform hover:scale-105 active:scale-95">
                            ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
                        </button>
                        <button id="next-btn" onclick="nextQuestion()"
                            class="hidden bg-green-500 hover:bg-green-600 text-white px-6 py-2.5 rounded-lg shadow-lg transition font-semibold flex items-center">
                            ‡∏Ç‡πâ‡∏≠‡∏ñ‡∏±‡∏î‡πÑ‡∏õ <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div id="translation-card"
                class="hidden bg-yellow-50 border border-yellow-200 rounded-xl p-4 text-center text-yellow-800 text-sm animate-pulse">
                <!-- Translation injected by JS -->
            </div>
        </div>

        <!-- Section: Learn -->
        <div id="content-learn" class="fade-in hidden">
            <div class="bg-white rounded-2xl shadow-sm p-8 mb-6 border border-gray-100">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-4"><i
                        class="fas fa-book-reader text-blue-500 mr-2"></i>‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ</h2>

                <p class="text-gray-600 mb-6 leading-relaxed">
                    ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÉ‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©
                    ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≥‡πÅ‡∏•‡∏∞‡∏ß‡∏•‡∏µ‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û
                    ‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏π‡∏î‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
                </p>

                <div class="mb-8">
                    <h3 class="text-lg font-bold text-blue-900 mb-3">1. ‡∏Å‡∏é‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ (S + V + O)</h3>
                    <p class="text-gray-600 mb-4 text-sm">‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡∏°‡∏µ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß
                        ‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏Å‡∏ß‡πà‡∏≤</p>
                    <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4">
                        <div
                            class="flex items-center justify-center space-x-2 md:space-x-4 text-center font-mono text-lg">
                            <div class="flex flex-col">
                                <span class="text-blue-600 font-bold text-2xl">S</span>
                                <span class="text-xs text-gray-500">Subject</span>
                            </div>
                            <span class="text-gray-300 text-2xl">+</span>
                            <div class="flex flex-col">
                                <span class="text-green-600 font-bold text-2xl">V</span>
                                <span class="text-xs text-gray-500">Verb</span>
                            </div>
                            <span class="text-gray-300 text-2xl">+</span>
                            <div class="flex flex-col">
                                <span class="text-orange-600 font-bold text-2xl">O</span>
                                <span class="text-xs text-gray-500">Object</span>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        <div class="bg-white border rounded p-3">
                            <div class="font-bold text-green-700 mb-1"><i class="fas fa-check mr-2"></i>‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</div>
                            <p>"He reads a book"</p>
                            <p class="text-gray-400 text-xs">(‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß)</p>
                        </div>
                        <div class="bg-white border rounded p-3">
                            <div class="font-bold text-blue-700 mb-1"><i class="fas fa-globe-asia mr-2"></i>‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
                            </div>
                            <p>"‡πÄ‡∏Ç‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏Ç‡∏≤‡∏≠‡πà‡∏≤‡∏ô"</p>
                            <p class="text-gray-400 text-xs">(‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡πÑ‡∏î‡πâ)</p>
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="text-lg font-bold text-blue-900 mb-3">2. ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢</h3>
                    <ul class="space-y-4">
                        <li class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500">
                            <div class="font-bold text-gray-800 mb-1">Adjective (‡∏Ñ‡∏≥‡∏Ñ‡∏∏‡∏ì‡∏®‡∏±‡∏û‡∏ó‡πå)</div>
                            <p class="text-sm text-gray-600">‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ <span class="text-red-500 font-bold">‡∏´‡∏ô‡πâ‡∏≤</span>
                                ‡∏Ñ‡∏≥‡∏ô‡∏≤‡∏°‡πÄ‡∏™‡∏°‡∏≠</p>
                            <div class="text-sm text-gray-500 mt-2 bg-white p-2 rounded inline-block">Ex. a <span
                                    class="text-red-500 font-bold">beautiful</span> girl, a <span
                                    class="text-red-500 font-bold">fast</span> car</div>
                        </li>
                        <li class="bg-green-50 p-4 rounded-lg border-l-4 border-green-500">
                            <div class="font-bold text-gray-800 mb-1">Adverb (‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡∏ß‡∏¥‡πÄ‡∏®‡∏©‡∏ì‡πå)</div>
                            <p class="text-sm text-gray-600">‡∏°‡∏±‡∏Å‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ <span class="text-red-500 font-bold">‡∏´‡∏•‡∏±‡∏á</span>
                                ‡∏Å‡∏£‡∏¥‡∏¢‡∏≤ (‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà)</p>
                            <div class="text-sm text-gray-500 mt-2 bg-white p-2 rounded inline-block">Ex. He drives
                                <span class="text-red-500 font-bold">carefully</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Section: Insights -->
        <div id="content-insights" class="fade-in hidden">

            <!-- FAQs -->
            <div class="bg-white rounded-2xl shadow-sm p-6 border border-gray-100 mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2"><i
                        class="fas fa-question-circle text-blue-500 mr-2"></i>‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢ (FAQs)</h3>
                <div class="space-y-6">
                    <div>
                        <h4 class="font-bold text-blue-900 text-sm md:text-base">1. ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏á Adjective ‡∏´‡∏•‡∏≤‡∏¢‡πÜ ‡∏Ñ‡∏≥
                            ‡∏°‡∏µ‡∏Å‡∏é‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</h4>
                        <p class="text-gray-600 text-sm mt-1">‡∏°‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡πÉ‡∏ä‡πâ‡∏™‡∏π‡∏ï‡∏£ <b>OSASCOMP</b>:</p>
                        <div class="text-xs md:text-sm bg-gray-50 p-3 rounded mt-2 font-mono text-gray-700">
                            Opinion (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡πá‡∏ô) > Size (‡∏Ç‡∏ô‡∏≤‡∏î) > Age (‡∏≠‡∏≤‡∏¢‡∏∏) > Shape (‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á) > Color (‡∏™‡∏µ) > Origin
                            (‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î) > Material (‡∏ß‡∏±‡∏™‡∏î‡∏∏) > Purpose (‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå)
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold text-blue-900 text-sm md:text-base">2.
                            ‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÉ‡∏î‡∏ö‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏°‡∏±‡∏Å‡∏ß‡∏≤‡∏á‡∏ú‡∏¥‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ö‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?</h4>
                        <ul class="list-disc list-inside text-sm text-gray-600 mt-1 ml-2">
                            <li><b>Adverb:</b> ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ <i>only</i> ‡πÅ‡∏•‡∏∞ <i>just</i></li>
                            <li><b>‡∏ö‡∏∏‡∏û‡∏ö‡∏ó‡∏ß‡∏•‡∏µ (Prepositional Phrases):</b> ‡∏Ñ‡∏ß‡∏£‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</li>
                            <li><b>‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏¢‡πà‡∏≠‡∏¢ (Clauses):</b> ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Card: Adverb of Frequency -->
                <div class="bg-white rounded-2xl shadow-sm p-6 border border-gray-100">
                    <div
                        class="w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-600 mb-4">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800 mb-2">Adverb of Frequency</h3>
                    <p class="text-gray-600 text-sm mb-4">‡∏Ñ‡∏≥‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà (Always, Often, Never)</p>
                    <ul class="text-sm space-y-2">
                        <li class="flex items-center"><span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>‡∏´‡∏•‡∏±‡∏á
                            Verb to be: <span class="italic text-gray-500 ml-1">He is <b>always</b> happy.</span></li>
                        <li class="flex items-center"><span
                                class="w-2 h-2 bg-blue-500 rounded-full mr-2"></span>‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏£‡∏¥‡∏¢‡∏≤‡πÅ‡∏ó‡πâ: <span
                                class="italic text-gray-500 ml-1">She <b>often</b> goes to school.</span></li>
                    </ul>
                </div>

                <!-- Card: Sentence Types -->
                <div class="bg-white rounded-2xl shadow-sm p-6 border border-gray-100">
                    <div
                        class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-purple-600 mb-4">
                        <i class="fas fa-list-ul"></i>
                    </div>
                    <h3 class="text-lg font-bold text-gray-800 mb-2">‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ 3 ‡πÅ‡∏ö‡∏ö</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left">
                            <thead class="text-xs text-gray-500 uppercase bg-gray-50">
                                <tr>
                                    <th class="px-2 py-2">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                                    <th class="px-2 py-2">‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100">
                                <tr>
                                    <td class="px-2 py-2 font-medium">‡∏ö‡∏≠‡∏Å‡πÄ‡∏•‡πà‡∏≤</td>
                                    <td class="px-2 py-2 text-gray-500">S + V + O</td>
                                </tr>
                                <tr>
                                    <td class="px-2 py-2 font-medium">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á</td>
                                    <td class="px-2 py-2 text-gray-500">Verb + Object (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô)</td>
                                </tr>
                                <tr>
                                    <td class="px-2 py-2 font-medium">‡∏≠‡∏∏‡∏ó‡∏≤‡∏ô</td>
                                    <td class="px-2 py-2 text-gray-500">How/What + S + V</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script>
        // --- Data (Updated from Prompt) ---
        const exercises = {
            beginner: [
                // Set 1: Present Simple
                { answer: "She reads books every day.", translation: "‡πÄ‡∏ò‡∏≠‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô" },
                { answer: "They play football in the park.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡πÄ‡∏•‡πà‡∏ô‡∏ü‡∏∏‡∏ï‡∏ö‡∏≠‡∏•‡πÉ‡∏ô‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞" },
                { answer: "I eat breakfast at 7 o‚Äôclock.", translation: "‡∏â‡∏±‡∏ô‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏ä‡πâ‡∏≤‡∏ï‡∏≠‡∏ô 7 ‡πÇ‡∏°‡∏á" },
                { answer: "He walks to school every morning.", translation: "‡πÄ‡∏Ç‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ó‡∏∏‡∏Å‡πÄ‡∏ä‡πâ‡∏≤" },
                { answer: "My sister studies English on weekends.", translation: "‡∏ô‡πâ‡∏≠‡∏á‡∏™‡∏≤‡∏ß‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏™‡∏∏‡∏î‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå" },
                { answer: "She doesn‚Äôt like coffee.", translation: "‡πÄ‡∏ò‡∏≠‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏Å‡∏≤‡πÅ‡∏ü" },
                { answer: "We don‚Äôt watch TV at night.", translation: "‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡∏î‡∏π‡∏ó‡∏µ‡∏ß‡∏µ‡∏ï‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô" },
                { answer: "I don‚Äôt do homework on Sundays.", translation: "‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå" },
                { answer: "He doesn‚Äôt go to the gym.", translation: "‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏õ‡πÇ‡∏£‡∏á‡∏¢‡∏¥‡∏°" },
                { answer: "They don‚Äôt eat vegetables.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡∏Å‡∏¥‡∏ô‡∏ú‡∏±‡∏Å" },
                { answer: "Do you like music?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö‡∏î‡∏ô‡∏ï‡∏£‡∏µ‡πÑ‡∏´‡∏°?" },
                { answer: "Where does she work?", translation: "‡πÄ‡∏ò‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?" },
                { answer: "What time do they eat dinner?", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏¢‡πá‡∏ô‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á?" },
                { answer: "Does your brother play tennis?", translation: "‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏ó‡∏ô‡∏ô‡∏¥‡∏™‡πÑ‡∏´‡∏°?" },
                { answer: "Where do you live?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?" },
                // Set 2: Be Verbs & Articles
                { answer: "She is a teacher.", translation: "‡πÄ‡∏ò‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏π" },
                { answer: "We are students.", translation: "‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" },
                { answer: "I am from Thailand.", translation: "‡∏â‡∏±‡∏ô‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢" },
                { answer: "Are you happy?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡πÑ‡∏´‡∏°?" },
                { answer: "The cat is on the table.", translation: "‡πÅ‡∏°‡∏ß‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡πÇ‡∏ï‡πä‡∏∞" },
                { answer: "I eat an apple every day.", translation: "‡∏â‡∏±‡∏ô‡∏Å‡∏¥‡∏ô‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏•‡∏π‡∏Å‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô" },
                { answer: "The book is on the desk.", translation: "‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏•‡πà‡∏°‡∏ô‡∏±‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡πÇ‡∏ï‡πä‡∏∞" },
                { answer: "She has a red car.", translation: "‡πÄ‡∏ò‡∏≠‡∏°‡∏µ‡∏£‡∏ñ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏Ñ‡∏±‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á" },
                { answer: "The flowers in the garden are beautiful.", translation: "‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡πÉ‡∏ô‡∏™‡∏ß‡∏ô‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°" },
                { answer: "An elephant is a big animal.", translation: "‡∏ä‡πâ‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏ç‡πà" },
                { answer: "She is a doctor and works in the hospital.", translation: "‡πÄ‡∏ò‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏°‡∏≠‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•" },
                { answer: "We are friends and study together.", translation: "‡πÄ‡∏£‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô" },
                { answer: "I am tired but do my homework.", translation: "‡∏â‡∏±‡∏ô‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô" },
                { answer: "The weather is nice so we go to the beach.", translation: "‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡∏ä‡∏≤‡∏¢‡∏´‡∏≤‡∏î" },
                { answer: "They are busy but help their mother.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡∏¢‡∏∏‡πà‡∏á‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏°‡πà" },
                // Set 3: Mixed & Connectors
                { answer: "He likes pizza but doesn‚Äôt like vegetables.", translation: "‡πÄ‡∏Ç‡∏≤‡∏ä‡∏≠‡∏ö‡∏û‡∏¥‡∏ã‡∏ã‡πà‡∏≤‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏ú‡∏±‡∏Å" },
                { answer: "She plays piano and sings beautifully.", translation: "‡πÄ‡∏ò‡∏≠‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏õ‡∏µ‡∏¢‡πÇ‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏•‡∏á‡πÑ‡∏î‡πâ‡πÑ‡∏û‡πÄ‡∏£‡∏≤‡∏∞" },
                { answer: "I am hungry but don‚Äôt have time to eat.", translation: "‡∏â‡∏±‡∏ô‡∏´‡∏¥‡∏ß‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏¥‡∏ô" },
                { answer: "They are young but very smart.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡∏¢‡∏±‡∏á‡πÄ‡∏î‡πá‡∏Å‡πÅ‡∏ï‡πà‡∏â‡∏•‡∏≤‡∏î‡∏°‡∏≤‡∏Å" },
                { answer: "We work hard and get good grades.", translation: "‡πÄ‡∏£‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏£‡∏î‡∏î‡∏µ" },
                { answer: "It is raining so we stay at home.", translation: "‡∏ù‡∏ô‡∏ï‡∏Å‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏£‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô" },
                { answer: "You can walk or take the bus.", translation: "‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏ñ‡∏ö‡∏±‡∏™‡πÑ‡∏î‡πâ" },
                { answer: "She is sick so doesn‚Äôt go to work.", translation: "‡πÄ‡∏ò‡∏≠‡∏õ‡πà‡∏ß‡∏¢‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏õ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô" },
                { answer: "Do you want tea or coffee?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ä‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡πÅ‡∏ü?" },
                { answer: "I study hard so pass the exam.", translation: "‡∏â‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô" },
                { answer: "She goes to the library every Tuesday.", translation: "‡πÄ‡∏ò‡∏≠‡πÑ‡∏õ‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£" },
                { answer: "The children play in the garden after school.", translation: "‡πÄ‡∏î‡πá‡∏Å‡πÜ ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ô‡∏™‡∏ß‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" },
                { answer: "My father works at the office from 9 to 5.", translation: "‡∏û‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏ü‡∏ü‡∏¥‡∏®‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà 9 ‡πÇ‡∏°‡∏á‡∏ñ‡∏∂‡∏á 5 ‡πÇ‡∏°‡∏á" },
                { answer: "We meet at the park on Saturday morning.", translation: "‡πÄ‡∏£‡∏≤‡∏û‡∏ö‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏ô‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡πÉ‡∏ô‡πÄ‡∏ä‡πâ‡∏≤‡∏ß‡∏±‡∏ô‡πÄ‡∏™‡∏≤‡∏£‡πå" },
                { answer: "The baby sleeps in his room every afternoon.", translation: "‡∏ó‡∏≤‡∏£‡∏Å‡∏ô‡∏≠‡∏ô‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡∏≤‡∏ó‡∏∏‡∏Å‡∏ö‡πà‡∏≤‡∏¢" }
            ],
            intermediate: [
                // Set 1: Past & Future
                { answer: "She visited her grandmother last summer.", translation: "‡πÄ‡∏ò‡∏≠‡πÑ‡∏õ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏Ñ‡∏∏‡∏ì‡∏¢‡πà‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏§‡∏î‡∏π‡∏£‡πâ‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß" },
                { answer: "They didn‚Äôt do their homework yesterday.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô‡∏ô‡∏µ‡πâ" },
                { answer: "Where did you go last weekend?", translation: "‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡πÑ‡∏´‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏î‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß?" },
                { answer: "We watched a good movie last night.", translation: "‡πÄ‡∏£‡∏≤‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡∏î‡∏µ‡πÜ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ" },
                { answer: "He didn‚Äôt eat breakfast this morning.", translation: "‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏ä‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡πâ‡∏≤‡∏ô‡∏µ‡πâ" },
                { answer: "She was reading when I called her.", translation: "‡πÄ‡∏ò‡∏≠‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡πÇ‡∏ó‡∏£‡∏´‡∏≤‡πÄ‡∏ò‡∏≠" },
                { answer: "The children were playing football at 3 PM yesterday.", translation: "‡πÄ‡∏î‡πá‡∏Å‡πÜ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ü‡∏∏‡∏ï‡∏ö‡∏≠‡∏•‡∏ï‡∏≠‡∏ô 3 ‡πÇ‡∏°‡∏á‡πÄ‡∏¢‡πá‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô" },
                { answer: "He wasn‚Äôt listening to music while studying.", translation: "‡πÄ‡∏Ç‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ü‡∏±‡∏á‡πÄ‡∏û‡∏•‡∏á‡∏Ç‡∏ì‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô" },
                { answer: "What were you doing at 8 o‚Äôclock last night?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ï‡∏≠‡∏ô 8 ‡πÇ‡∏°‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∑‡∏ô?" },
                { answer: "It was raining when we left home.", translation: "‡∏ù‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏Å‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ö‡πâ‡∏≤‡∏ô" },
                { answer: "I will graduate from university next year.", translation: "‡∏â‡∏±‡∏ô‡∏à‡∏∞‡∏à‡∏ö‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏õ‡∏µ‡∏´‡∏ô‡πâ‡∏≤" },
                { answer: "They are going to travel to Japan next month.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡∏à‡∏∞‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤" },
                { answer: "She won‚Äôt come to the party tomorrow.", translation: "‡πÄ‡∏ò‡∏≠‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏á‡∏≤‡∏ô‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ" },
                { answer: "Are you going to buy a new car?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ã‡∏∑‡πâ‡∏≠‡∏£‡∏ñ‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏´‡∏°?" },
                { answer: "It will probably rain this afternoon.", translation: "‡∏ö‡πà‡∏≤‡∏¢‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤‡∏à‡∏∞‡∏ù‡∏ô‡∏ï‡∏Å" },
                { answer: "He has lived in Bangkok for five years.", translation: "‡πÄ‡∏Ç‡∏≤‡∏≠‡∏≤‡∏®‡∏±‡∏¢‡πÉ‡∏ô‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏≤‡∏´‡πâ‡∏≤‡∏õ‡∏µ‡πÅ‡∏•‡πâ‡∏ß" },
                { answer: "We haven‚Äôt seen that movie yet.", translation: "‡πÄ‡∏£‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏±‡πâ‡∏ô" },
                { answer: "She had already finished her work before I arrived.", translation: "‡πÄ‡∏ò‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏à‡∏∞‡∏°‡∏≤‡∏ñ‡∏∂‡∏á" },
                { answer: "They will have completed the project by next Friday.", translation: "‡∏û‡∏ß‡∏Å‡πÄ‡∏Ç‡∏≤‡∏à‡∏∞‡∏ó‡∏≥‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå‡∏´‡∏ô‡πâ‡∏≤" },
                { answer: "Have you ever been to Europe?", translation: "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ñ‡∏¢‡πÑ‡∏õ‡∏¢‡∏∏‡πÇ‡∏£‡∏õ‡πÑ‡∏´‡∏°?" },
                // Set 2: Complex Sentences
                { answer: "I will call you when I get home.", translation: "‡∏â‡∏±‡∏ô‡∏à‡∏∞‡πÇ‡∏ó‡∏£‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ñ‡∏∂‡∏á‡∏ö‡πâ‡∏≤‡∏ô" },
                { answer: "She was studying while her brother was watching TV.", translation: "‡πÄ‡∏ò‡∏≠‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡∏û‡∏µ‡πà‡∏ä‡∏≤‡∏¢‡∏î‡∏π‡∏ó‡∏µ‡∏ß‡∏µ" },
                { answer: "After he finished his homework, he went to bed.", translation: "‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à ‡πÄ‡∏Ç‡∏≤‡∏Å‡πá‡πÄ‡∏Ç‡πâ‡∏≤‡∏ô‡∏≠‡∏ô" },
                { answer: "Before she leaves the office, she always checks her email.", translation: "‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏≠‡∏≠‡∏ü‡∏ü‡∏¥‡∏® ‡πÄ‡∏ò‡∏≠‡∏à‡∏∞‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÄ‡∏™‡∏°‡∏≠" },
                { answer: "We have been happy since we moved to this city.", translation: "‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏¢‡πâ‡∏≤‡∏¢‡∏°‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ô‡∏µ‡πâ" },
                { answer: "We will go to the beach if the weather is sunny.", translation: "‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÑ‡∏õ‡∏ä‡∏≤‡∏¢‡∏´‡∏≤‡∏î‡∏ñ‡πâ‡∏≤‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏à‡πà‡∏°‡πÉ‡∏™" },
                { answer: "I would buy that house if I had enough money.", translation: "‡∏â‡∏±‡∏ô‡∏à‡∏∞‡∏ã‡∏∑‡πâ‡∏≠‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏ñ‡πâ‡∏≤‡∏â‡∏±‡∏ô‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏û‡∏≠" },
                { answer: "If she had studied harder, she would have passed the exam.", translation: "‡∏ñ‡πâ‡∏≤‡πÄ‡∏ò‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ ‡πÄ‡∏ò‡∏≠‡∏à‡∏∞‡∏™‡∏≠‡∏ö‡∏ú‡πà‡∏≤‡∏ô" },
                { answer: "You will miss the train unless you hurry.", translation: "‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏û‡∏•‡∏≤‡∏î‡∏£‡∏ñ‡πÑ‡∏ü‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏µ‡∏ö" },
                { answer: "You can go provided that you finish your work first.", translation: "‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏õ‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô" },
                { answer: "The man who lives next door is a doctor.", translation: "‡∏ä‡∏≤‡∏¢‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡πÜ ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏°‡∏≠" },
                { answer: "I bought the book that you recommended.", translation: "‡∏â‡∏±‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥" },
                { answer: "The restaurant where we had dinner was expensive.", translation: "‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏¢‡πá‡∏ô‡πÅ‡∏û‡∏á‡∏°‡∏≤‡∏Å" },
                { answer: "Do you know the reason why she didn‚Äôt come?", translation: "‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏ò‡∏≠‡πÑ‡∏°‡πà‡∏°‡∏≤‡πÑ‡∏´‡∏°?" },
                { answer: "The person whose car was stolen called the police.", translation: "‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏ñ‡∏ñ‡∏π‡∏Å‡∏Ç‡πÇ‡∏°‡∏¢‡πÇ‡∏ó‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ï‡∏≥‡∏£‡∏ß‡∏à" },
                { answer: "She wanted to go shopping but was too tired.", translation: "‡πÄ‡∏ò‡∏≠‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ" },
                { answer: "He studied hard for the exam so got an A.", translation: "‡πÄ‡∏Ç‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏≠‡∏ö‡∏à‡∏∂‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏£‡∏î A" },
                { answer: "We can stay home or go to the cinema.", translation: "‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏õ‡∏î‡∏π‡∏´‡∏ô‡∏±‡∏á‡∏Å‡πá‡πÑ‡∏î‡πâ" },
                { answer: "I was late for work because of the traffic jam.", translation: "‡∏â‡∏±‡∏ô‡πÑ‡∏õ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏™‡∏≤‡∏¢‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏£‡∏ñ‡∏ï‡∏¥‡∏î" },
                { answer: "She speaks not only English but also French and German.", translation: "‡πÄ‡∏ò‡∏≠‡∏û‡∏π‡∏î‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏© ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏û‡∏π‡∏î‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™‡πÅ‡∏•‡∏∞‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢" }
            ],
            advanced: [
                { answer: "The bridge was built in 1990 by a famous architect.", translation: "‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏õ‡∏µ 1990 ‡πÇ‡∏î‡∏¢‡∏™‡∏ñ‡∏≤‡∏õ‡∏ô‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á" },
                { answer: "The computer is being repaired right now.", translation: "‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ñ‡∏π‡∏Å‡∏ã‡πà‡∏≠‡∏°‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ" },
                { answer: "We have been invited to the wedding.", translation: "‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡∏¥‡∏ç‡πÑ‡∏õ‡∏á‡∏≤‡∏ô‡πÅ‡∏ï‡πà‡∏á‡∏á‡∏≤‡∏ô" },
                { answer: "The report will be finished by tomorrow morning.", translation: "‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡πÄ‡∏™‡∏£‡πá‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏ä‡πâ‡∏≤‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ" },
                { answer: "The house had been cleaned before the guests arrived.", translation: "‡∏ö‡πâ‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Ç‡∏Å‡∏à‡∏∞‡∏°‡∏≤‡∏ñ‡∏∂‡∏á" },
                { answer: "She said that she was tired.", translation: "‡πÄ‡∏ò‡∏≠‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ò‡∏≠‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢" },
                { answer: "He asked me if I had finished my homework.", translation: "‡πÄ‡∏Ç‡∏≤‡∏ñ‡∏≤‡∏°‡∏â‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á" },
                { answer: "The teacher told us to submit our essays by Friday.", translation: "‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏ö‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏™‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå" },
                { answer: "I wondered where she had gone.", translation: "‡∏â‡∏±‡∏ô‡∏™‡∏á‡∏™‡∏±‡∏¢‡∏ß‡πà‡∏≤‡πÄ‡∏ò‡∏≠‡πÑ‡∏õ‡πÑ‡∏´‡∏ô" },
                { answer: "He promised that he would help me with the project.", translation: "‡πÄ‡∏Ç‡∏≤‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏â‡∏±‡∏ô‡∏ó‡∏≥‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ" },
                { answer: "Although it was raining, we decided to go hiking.", translation: "‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ù‡∏ô‡∏ï‡∏Å ‡πÄ‡∏£‡∏≤‡∏Å‡πá‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÑ‡∏õ‡πÄ‡∏î‡∏¥‡∏ô‡∏õ‡πà‡∏≤" },
                { answer: "The book which I am reading was written by a Nobel Prize winner.", translation: "‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏î‡∏¢‡∏ú‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÇ‡∏ô‡πÄ‡∏ö‡∏•" },
                { answer: "Not only did she finish her work early, but she also helped her colleagues.", translation: "‡πÄ‡∏ò‡∏≠‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡πÄ‡∏£‡πá‡∏ß ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢" },
                { answer: "If I had known about the meeting, I would have attended it.", translation: "‡∏ñ‡πâ‡∏≤‡∏â‡∏±‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° ‡∏â‡∏±‡∏ô‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°" },
                { answer: "Despite being young, he has achieved great success in his career.", translation: "‡πÅ‡∏°‡πâ‡∏à‡∏∞‡∏¢‡∏±‡∏á‡πÄ‡∏î‡πá‡∏Å ‡πÄ‡∏Ç‡∏≤‡∏Å‡πá‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏°‡∏≤‡∏Å‡πÉ‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û" }
            ]
        };

        // --- Game State ---
        let currentLevel = 'beginner';
        let currentIndex = 0;
        let selectedWords = []; // Array of {text, id} objects
        let poolWords = []; // Array of {text, id} objects

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            loadQuestion();
        });

        // --- Tab Logic ---
        function switchTab(tabId) {
            // Hide all contents
            ['learn', 'game', 'insights'].forEach(t => {
                document.getElementById(`content-${t}`).classList.add('hidden');
                document.getElementById(`content-${t}`).classList.remove('block');
                document.getElementById(`tab-${t}`)?.classList.remove('active');
            });

            // Show selected
            document.getElementById(`content-${tabId}`).classList.remove('hidden');
            document.getElementById(`content-${tabId}`).classList.add('block');
            document.getElementById(`tab-${tabId}`)?.classList.add('active');
        }

        // --- Game Logic ---

        function changeLevel() {
            currentLevel = document.getElementById('level-select').value;
            currentIndex = 0;
            loadQuestion();
        }

        function loadQuestion() {
            const data = exercises[currentLevel][currentIndex];

            // Update UI Counters
            document.getElementById('current-q-num').innerText = `${currentIndex + 1} / ${exercises[currentLevel].length}`;
            const progressPercent = ((currentIndex) / exercises[currentLevel].length) * 100;
            document.getElementById('progress-bar').style.width = `${progressPercent}%`;

            // Reset States
            selectedWords = [];
            document.getElementById('feedback-area').classList.add('hidden');
            document.getElementById('check-btn').classList.remove('hidden');
            document.getElementById('next-btn').classList.add('hidden');
            document.getElementById('translation-card').classList.add('hidden');
            document.getElementById('translation-card').innerText = data.translation;

            // Visual reset
            document.getElementById('answer-zone').classList.remove('bg-green-50', 'border-green-300', 'bg-red-50', 'border-red-300');
            document.getElementById('answer-zone').classList.add('bg-gray-50', 'border-gray-300');

            // Create Word Tokens from answer
            const rawWords = data.answer.split(' ');

            poolWords = rawWords.map((word, index) => ({
                text: word,
                id: `word-${index}`
            }));

            // Shuffle Pool
            shuffleArray(poolWords);

            renderBoard();
        }

        function renderBoard() {
            const answerZone = document.getElementById('answer-zone');
            const wordPool = document.getElementById('word-pool');

            // Clear containers
            answerZone.innerHTML = '';
            wordPool.innerHTML = '';

            // Render Answer Zone
            if (selectedWords.length === 0) {
                const placeholder = document.createElement('span');
                placeholder.id = 'placeholder-text';
                placeholder.className = 'text-gray-400 text-sm w-full text-center pointer-events-none italic';
                placeholder.innerText = '‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...';
                answerZone.appendChild(placeholder);
            } else {
                selectedWords.forEach((item, idx) => {
                    const chip = createChip(item.text, () => moveWordBack(idx));
                    chip.classList.add('bg-blue-100', 'text-blue-800', 'border-blue-200');
                    answerZone.appendChild(chip);
                });
            }

            // Render Pool
            poolWords.forEach((item, idx) => {
                const chip = createChip(item.text, () => moveWordToAnswer(idx));
                chip.classList.add('bg-white', 'border-gray-200', 'text-gray-700', 'shadow-sm');
                wordPool.appendChild(chip);
            });
        }

        function createChip(text, onClick) {
            const btn = document.createElement('div');
            btn.className = 'word-chip px-4 py-2 rounded-full border font-medium text-sm md:text-base select-none';
            btn.innerText = text;
            btn.onclick = onClick;
            return btn;
        }

        function moveWordToAnswer(poolIndex) {
            const item = poolWords[poolIndex];
            poolWords.splice(poolIndex, 1);
            selectedWords.push(item);
            renderBoard();
        }

        function moveWordBack(selectedIndex) {
            const item = selectedWords[selectedIndex];
            selectedWords.splice(selectedIndex, 1);
            poolWords.push(item);
            renderBoard();
        }

        function resetCurrentQuestion() {
            loadQuestion();
        }

        function checkAnswer() {
            const currentQuestion = exercises[currentLevel][currentIndex];
            const userAnswerString = selectedWords.map(w => w.text).join(' ');

            const feedbackArea = document.getElementById('feedback-area');
            const answerZone = document.getElementById('answer-zone');

            feedbackArea.classList.remove('hidden');

            if (userAnswerString === currentQuestion.answer) {
                // Correct
                feedbackArea.innerHTML = `<div class="flex items-center text-green-700 bg-green-100 p-3 rounded-lg"><i class="fas fa-check-circle text-xl mr-3"></i><div><strong>‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! Great job!</strong></div></div>`;
                answerZone.classList.remove('bg-gray-50', 'border-gray-300', 'bg-red-50', 'border-red-300');
                answerZone.classList.add('bg-green-50', 'border-green-300');

                document.getElementById('check-btn').classList.add('hidden');

                // Check if last question
                if (currentIndex < exercises[currentLevel].length - 1) {
                    document.getElementById('next-btn').classList.remove('hidden');
                } else {
                    feedbackArea.innerHTML += `<div class="mt-2 text-center text-blue-600 font-bold">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡∏ú‡πà‡∏≤‡∏ô‡∏î‡πà‡∏≤‡∏ô ${currentLevel} ‡πÅ‡∏•‡πâ‡∏ß</div>`;
                }

                document.getElementById('translation-card').classList.remove('hidden');

            } else {
                // Incorrect
                feedbackArea.innerHTML = `<div class="flex items-center text-red-700 bg-red-100 p-3 rounded-lg"><i class="fas fa-times-circle text-xl mr-3"></i><div><strong>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞</strong></div></div>`;
                answerZone.classList.remove('bg-gray-50', 'border-gray-300');
                answerZone.classList.add('bg-red-50', 'border-red-300');

                setTimeout(() => {
                    answerZone.classList.remove('bg-red-50', 'border-red-300');
                    answerZone.classList.add('bg-gray-50', 'border-gray-300');
                }, 1000);
            }
        }

        function nextQuestion() {
            if (currentIndex < exercises[currentLevel].length - 1) {
                currentIndex++;
                loadQuestion();
            }
        }

        function toggleTranslation() {
            const card = document.getElementById('translation-card');
            if (card.classList.contains('hidden')) {
                card.classList.remove('hidden');
            } else {
                card.classList.add('hidden');
            }
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

    </script>
</body>

</html>